<?php 
include 'inc/config.php';
if(isset($_SESSION['logado'])){ header("Location:index"); exit(); }
?>
<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">
<title>Faça seu login • Assinu.tk</title>
<link href="<?= $link;?>/css/bootstrap.min.css" rel="stylesheet">
<link href="<?= $link;?>/css/style.css" rel="stylesheet">
<script src="https://kit.fontawesome.com/06c06c3fc2.js" crossorigin="anonymous"></script>
</head>

<body class="text-center">
<form class="form-signin mb-3" method="POST" action="#">
<svg width="200" height="250" viewBox="0 0 783 783" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="391.5" cy="391.5" r="389" fill="#001733" stroke="#FFBE18" stroke-width="5"/>
<path d="M214.25 426.5C215.917 431.167 217.75 434.917 219.75 437.75C221.75 440.417 224.833 443.333 229 446.5L226.75 449H181.5L180 444.5L183.75 443.5C186.25 442.667 188 441.667 189 440.5C190.167 439.167 190.75 437.417 190.75 435.25C190.75 433.917 189.833 430.5 188 425L183 410.25H144.25L142.25 416.5C139.75 424 138.5 429.667 138.5 433.5C138.5 437.167 139.167 440.5 140.5 443.5L142.25 446.5L140 449H112.5L110.75 444.5L114.5 443.5C118.5 442.333 121.5 440.75 123.5 438.75C125.5 436.583 127.417 432.833 129.25 427.5L154.75 354C155.917 349.833 156.5 346.917 156.5 345.25C156.5 341.583 153.833 339 148.5 337.5L145.75 336.75L147.5 332.25H181.5L214.25 426.5ZM180.5 403.25L163.5 352.5L146.75 403.25H180.5ZM257.49 383C257.49 387.167 259.074 390.583 262.24 393.25C265.574 395.75 270.574 398.583 277.24 401.75C282.74 404.417 286.99 406.75 289.99 408.75C292.99 410.583 295.574 413.083 297.74 416.25C300.074 419.417 301.24 423.167 301.24 427.5C301.24 434.667 297.824 440.417 290.99 444.75C284.324 449.083 275.324 451.25 263.99 451.25C255.49 451.25 248.49 449.75 242.99 446.75C237.49 443.583 234.74 439.5 234.74 434.5C234.74 431.167 235.99 428.417 238.49 426.25C240.99 423.917 244.074 422.75 247.74 422.75C250.574 422.75 253.407 423.333 256.24 424.5C253.407 426.667 251.99 430.167 251.99 435C251.99 438.333 253.157 440.917 255.49 442.75C257.824 444.583 260.657 445.5 263.99 445.5C267.824 445.5 271.074 444.5 273.74 442.5C276.574 440.5 277.99 437.667 277.99 434C277.99 430.5 276.574 427.75 273.74 425.75C271.074 423.583 266.824 421.083 260.99 418.25C255.657 415.75 251.324 413.5 247.99 411.5C244.824 409.333 242.074 406.5 239.74 403C237.407 399.5 236.24 395.25 236.24 390.25C236.24 382.75 239.407 376.833 245.74 372.5C252.074 368.167 260.074 366 269.74 366C278.24 366 285.157 367.583 290.49 370.75C295.99 373.917 298.74 378 298.74 383C298.74 386.833 297.574 389.667 295.24 391.5C292.907 393.333 289.907 394.25 286.24 394.25C282.74 394.25 279.657 393.5 276.99 392C279.99 389.167 281.49 385.583 281.49 381.25C281.49 378.417 280.407 376.167 278.24 374.5C276.074 372.667 273.24 371.75 269.74 371.75C265.907 371.75 262.907 372.833 260.74 375C258.574 377.167 257.49 379.833 257.49 383ZM339.277 383C339.277 387.167 340.861 390.583 344.027 393.25C347.361 395.75 352.361 398.583 359.027 401.75C364.527 404.417 368.777 406.75 371.777 408.75C374.777 410.583 377.361 413.083 379.527 416.25C381.861 419.417 383.027 423.167 383.027 427.5C383.027 434.667 379.611 440.417 372.777 444.75C366.111 449.083 357.111 451.25 345.777 451.25C337.277 451.25 330.277 449.75 324.777 446.75C319.277 443.583 316.527 439.5 316.527 434.5C316.527 431.167 317.777 428.417 320.277 426.25C322.777 423.917 325.861 422.75 329.527 422.75C332.361 422.75 335.194 423.333 338.027 424.5C335.194 426.667 333.777 430.167 333.777 435C333.777 438.333 334.944 440.917 337.277 442.75C339.611 444.583 342.444 445.5 345.777 445.5C349.611 445.5 352.861 444.5 355.527 442.5C358.361 440.5 359.777 437.667 359.777 434C359.777 430.5 358.361 427.75 355.527 425.75C352.861 423.583 348.611 421.083 342.777 418.25C337.444 415.75 333.111 413.5 329.777 411.5C326.611 409.333 323.861 406.5 321.527 403C319.194 399.5 318.027 395.25 318.027 390.25C318.027 382.75 321.194 376.833 327.527 372.5C333.861 368.167 341.861 366 351.527 366C360.027 366 366.944 367.583 372.277 370.75C377.777 373.917 380.527 378 380.527 383C380.527 386.833 379.361 389.667 377.027 391.5C374.694 393.333 371.694 394.25 368.027 394.25C364.527 394.25 361.444 393.5 358.777 392C361.777 389.167 363.277 385.583 363.277 381.25C363.277 378.417 362.194 376.167 360.027 374.5C357.861 372.667 355.027 371.75 351.527 371.75C347.694 371.75 344.694 372.833 342.527 375C340.361 377.167 339.277 379.833 339.277 383ZM427.814 434.75C427.814 439.75 429.398 442.25 432.564 442.25C435.731 442.25 438.814 441 441.814 438.5L443.814 441C437.648 447.833 430.398 451.25 422.064 451.25C416.064 451.25 411.731 449.75 409.064 446.75C406.398 443.583 405.064 438.5 405.064 431.5V382C405.064 379.667 403.981 378.5 401.814 378.5H394.064L393.314 375.75C396.648 372.917 400.814 370.583 405.814 368.75C410.814 366.917 415.814 366 420.814 366C422.814 366 424.481 366.5 425.814 367.5C427.148 368.5 427.814 369.833 427.814 371.5V434.75ZM402.564 342C402.564 339 404.231 335.667 407.564 332C410.898 328.333 413.981 326.5 416.814 326.5C419.814 326.5 422.981 328.333 426.314 332C429.814 335.667 431.564 339 431.564 342C431.564 345.167 429.814 348.583 426.314 352.25C422.981 355.75 419.814 357.5 416.814 357.5C413.981 357.5 410.898 355.75 407.564 352.25C404.231 348.583 402.564 345.167 402.564 342ZM536.293 434.75C536.293 439.75 537.876 442.25 541.043 442.25C544.21 442.25 547.293 441 550.293 438.5L552.293 441C546.126 447.833 538.876 451.25 530.543 451.25C524.543 451.25 520.21 449.75 517.543 446.75C515.043 443.583 513.793 438.5 513.793 431.5V393.25C513.793 383.583 510.71 378.75 504.543 378.75C498.543 378.75 493.626 382.833 489.793 391C486.126 399.167 484.293 409.833 484.293 423C484.293 428 484.71 432.083 485.543 435.25C486.376 438.25 487.71 441.167 489.543 444L491.543 446.5L489.543 449H453.293L451.793 444.75L455.293 444C457.96 443.333 459.71 442.333 460.543 441C461.376 439.5 461.793 436.667 461.793 432.5V383.75C461.793 380.583 460.71 379 458.543 379H450.543L449.793 376.25C453.126 373.417 457.293 371.083 462.293 369.25C467.293 367.417 472.293 366.5 477.293 366.5C479.46 366.5 481.126 367 482.293 368C483.626 369 484.293 370.333 484.293 372V393.5C486.626 385.667 490.793 379.167 496.793 374C502.793 368.667 509.126 366 515.793 366C522.96 366 528.126 368.333 531.293 373C534.626 377.667 536.293 385.083 536.293 395.25V434.75ZM620.895 426.25C618.561 433.583 614.478 439.583 608.645 444.25C602.978 448.917 596.895 451.25 590.395 451.25C583.061 451.25 577.645 448.917 574.145 444.25C570.645 439.583 568.895 432.417 568.895 422.75V382C568.895 379.667 567.811 378.5 565.645 378.5H557.895L557.145 375.75C560.478 372.917 564.645 370.583 569.645 368.75C574.645 366.917 579.561 366 584.395 366C586.561 366 588.228 366.5 589.395 367.5C590.728 368.5 591.395 369.833 591.395 371.5V421.5C591.395 427.167 592.228 431.583 593.895 434.75C595.561 437.75 597.895 439.25 600.895 439.25C607.061 439.25 611.978 435.5 615.645 428C619.478 420.333 621.395 410.417 621.395 398.25C621.395 391.75 620.895 386.75 619.895 383.25C619.061 379.583 617.478 376.417 615.145 373.75L612.895 371L614.895 368.75L643.645 366.5V434.75C643.645 439.75 645.145 442.25 648.145 442.25C651.311 442.25 654.395 441 657.395 438.5L659.395 441C653.561 447.833 646.311 451.25 637.645 451.25C631.311 451.25 626.895 449.417 624.395 445.75C622.061 442.083 620.895 435.583 620.895 426.25ZM578.145 343.25C578.145 340.75 579.561 337.917 582.395 334.75C585.395 331.583 588.061 330 590.395 330C592.895 330 595.561 331.583 598.395 334.75C601.395 337.917 602.895 340.75 602.895 343.25C602.895 345.917 601.395 348.75 598.395 351.75C595.561 354.75 592.895 356.25 590.395 356.25C588.061 356.25 585.395 354.75 582.395 351.75C579.561 348.75 578.145 345.917 578.145 343.25ZM611.645 343.25C611.645 340.75 613.061 337.917 615.895 334.75C618.895 331.583 621.561 330 623.895 330C626.395 330 629.145 331.583 632.145 334.75C635.145 337.917 636.645 340.75 636.645 343.25C636.645 345.917 635.145 348.75 632.145 351.75C629.145 354.75 626.395 356.25 623.895 356.25C621.561 356.25 618.895 354.75 615.895 351.75C613.061 348.583 611.645 345.75 611.645 343.25Z" fill="#FFBE18"/>
</svg>

<?php 
if(isset($_POST['entrar'])){
$conta_usuarios = $pdo->query("SELECT * FROM painel_usuarios WHERE usr_email = '".$_POST['email']."' AND BINARY usr_senha = '".md5($_POST['senha'])."' LIMIT 1");
$conta_usuarios_tot = $conta_usuarios->rowCount();
if(!empty($_POST['email']) || !empty(md5($_POST['senha']))){
if($conta_usuarios_tot > 0){
echo "<span class='badge bg-success mb-3'>Sucesso! Acessando painel...</span>";
$_SESSION['logado'] = true;
$_SESSION['email'] = $_POST['email'];
echo '<meta http-equiv="refresh" content="2; url=index" />';
}else if($conta_usuarios_tot == 0){
echo "<span class='badge bg-danger mb-3'>Credenciais inválidas</span>";
}}else{
echo "<span class='badge bg-danger mb-3'>Erro</span>";
}}

?>

<p class="tit-input-cad">E-mail:</p>
<input type="email" class="form-control input-cad" name="email" placeholder="" required>
<label class="mt-3 tit-input-cad">Senha:</label>
<input type="password" class="form-control input-cad mt-3" name="senha" required>
<button class="btn btn-entrar col-xl-12 mt-3" name="entrar" type="submit">Entrar</button>
<a href="esqueci-senha"><button style="border-radius: 20px;" class="btn btn-secondary btn-sm col-xl-12 mt-3" name="esqueci_senha" type="button">Esqueci minha senha</button></a>
<hr style="color: white;">
<a href="cadastrar">
<button style="border-radius: 20px;" class="btn btn-success btn-sm col-xl-12 mt-1" name="cadastrar" type="button"><i class="fas fa-plus"></i> 
<strong>Criar conta</strong></button></a>

</form>
</body>
</html>
